---

# The three variables below will skip whole sections of benchmarks. A value of true will run the section, false will skip
cntrk8stig_cat1_patch: true
cntrk8stig_cat2_patch: true
cntrk8stig_cat3_patch: true

# This variable will either force or prevent a reboot after this role runs. It is best practice to reboot after these Changes
# however the time you run this role might not be the best time to reboot, so we allow flexability 
cntrk8stig_skip_reboot: false

kubernetes_master: true

# These variables correspond with the STIG IDs defined in the STIG and allows you to enable/disable specific rules.
# PLEASE NOTE: These work in coordination with the cat1, cat2, cat3 group variables. You must enable an entire group
# in order for the variables below to take effect.
# CAT 1 rules
cntr_k8_000220: true
cntr_k8_000290: true
cntr_k8_000320: true
cntr_k8_000330: true
cntr_k8_000340: true
cntr_k8_000360: true
cntr_k8_000370: true
cntr_k8_000380: true
cntr_k8_000440: true
cntr_k8_001160: true
cntr_k8_001620: true
cntr_k8_001990: true
cntr_k8_002000: true
cntr_k8_002010: true
cntr_k8_002620: true

# CAT 2 Rules
cntr_k8_000150: true
cntr_k8_000160: true
cntr_k8_000170: true


# API Server pod specification file
api_server_pod_specification_file: "/etc/kubernetes/manifests/kube-apiserver.yaml"

# Controller Manager pod specification file
# Path and filename of the controller manager configuration file
controller_manager_pod_specification_file: "/etc/kubernetes/manifests/kube-controller-manager.yaml"
# value to set the use_service_account_credentials value. To conform to STIG standards this needs to be set to true
use_service_account_credentials: "true"

# Scheduler pod specification file
scheduler_pod_specification_file: "/etc/kubernetes/manifests/kube-scheduler.yaml"

# etcd pod specification file
etcd_pod_specification_file: "/etc/kubernetes/manifests/etcd.yaml"


# Kubelet
kubelet_config_file: "/var/lib/kubelet/config.yaml"

# CAT1 Variables

# CNTR-K8-001990
# cntrk8stig_kubeapi_auth_mode is the authorization mode for API authentication
# To conform to STIG standards this should not be set to AlwaysAllow, any other valid authentication value is acceptable
# Valid options are: ABAC, RBAC, Webhook, Node, and AlwaysDeny
cntrk8stig_kubeapi_auth_mode: "Webhook"

# CNTR-K8-002000
# cntrk8stig_kubeapi_enable_admission_plugins are the admission plugins in the api config
# To conform to STIG standards the ValidatingAdmissionWebhook value needs to be in the list
# The list needs to be a comma seperated list if you want to include more than ValidatingAdmissionWebhook
cntrk8stig_kubeapi_enable_admission_plugins: "ValidatingAdmissionWebhook"

# CAT2 Variables

# CNTR-K8-000150
# cntrk8stig_kube_controller_manager_tls is the SSH TLS protocol to use
# To confrom to STIG standards this value needs to VersionTLS12 or higher
cntrk8stig_kube_controller_manager_tls: "VersionTLS12"

# CNTR-K8-000160
# cntrk8stig_kube_scheduler_manager_tls is the SSH TLS protocol to use
# To confrom to STIG standards this value needs to VersionTLS12 or higher
cntrk8stig_kube_scheduler_manager_tls: "VersionTLS12"

# CNTR-K8-000170
# cntrk8stig_kube_api_server_tls is the SSH TLS protocol to use
# To confrom to STIG standards this value needs to VersionTLS12 or higher
cntrk8stig_kube_api_server_tls: "VersionTLS12"
